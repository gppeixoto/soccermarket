<!doctype html>
<html lang="en">
{% block content %}
<head>
  {% load staticfiles %}

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <link href="{% static "bootstrap3/css/bootstrap.css" %}" rel="stylesheet" />
  <link href="{% static "bootstrap3/css/font-awesome.css" %}" rel="stylesheet" />

  <link href="{% static "assets/css/get-shit-done.css" %}" rel="stylesheet" />  
  <link href="{% static "assets/css/demo.css" %}" rel="stylesheet" /> 

  <!--     Font Awesome     -->
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link href='http://fonts.googleapis.com/css?family=Grand+Hotel' rel='stylesheet' type='text/css'>
  
  <script src="{% static "jquery/jquery-1.10.2.js" %}" type="text/javascript"></script>
  <script src="{% static "assets/js/jquery-ui-1.10.4.custom.min.js" %}" type="text/javascript"></script>

  <script src="{% static "assets/js/table-search.js" %}"></script>

  <!-- store search mode using cookis -->
  <script>
    $(function() {
      var json, tabsState;
      $('a[data-toggle="pill"], a[data-toggle="tab"]').on('click', function(e) {
        var href, json, parentId, tabsState;
        tabsState = localStorage.getItem("tabs-state");
        json = JSON.parse(tabsState || "{}");
        parentId = $(e.target).parents("ul.nav.nav-pills, ul.nav.nav-tabs").attr("id");
        href = $(e.target).attr('href');
        json[parentId] = href;

        return localStorage.setItem("tabs-state", JSON.stringify(json));
      });

      tabsState = localStorage.getItem("tabs-state");
      json = JSON.parse(tabsState || "{}");

      $.each(json, function(containerId, href) {
        return $("#" + containerId + " a[href=" + href + "]").tab('show');
      });

      $("ul.nav.nav-pills, ul.nav.nav-tabs").each(function() {
        var $this = $(this);
        if (!json[$this.attr("id")]) {
          return $this.find("a[data-toggle=tab]:first, a[data-toggle=pill]:first").tab("show");
        }
      });
    });
  </script>
</head>

<body>
    <div class="container tim-container" style="max-width:800px; padding-top:100px">
      <img src="../static/assets/img/soccermarket.png" class="img-responsive center-block" alt="SoccerMarket"> 

      <div class="text-center" style="padding-top:100px">
        <ul id="pills" class="nav nav-pills ct-blue center-pills">
          <li id="search-people"><a href="#people" data-toggle="pill">Pessoas</a></li>
          <li id="search-teams"><a href="#teams" data-toggle="pill">Times</a></li>
          <li id="search-transfers"><a href="#transfers" data-toggle="pill">TransferÃªncias</a></li>
        </ul>
      </div>

      <!-- set search mode -->
      <script>
        // $(".nav.nav-pills li").on("click",function(){
        //   $(".nav.nav-pills li").removeClass("active");
        //   $(this).addClass("active");
        // });
      </script>

      <div class="row">
       <div class="col-lg-12">
        <form role="search" action="{% url 'search_people' %}" class="search-form" method="post">
          {% csrf_token %}
          
          <div class="input-group full-width">
            <input type="search" id="search" name="search" class="form-control search" placeholder="Busca">
            <span class="input-group-btn">
              <button type="submit" class="search-submit btn btn-primary btn-fill">Buscar</button>
            </span>
          </div>
        </form>
       </div>  
      </div>
     
      <!-- get currently active search mode and use it -->
      <script>
        var navPills = document.getElementsByTagName("li");
        for (i = 0; i < navPills.length; i++) {
          console.log(navPills[i].id + " activity: " + navPills[i].className)
        }
      </script>

      <table class="table table-bordered" style="margin-top:50px">
        <thead>
          <tr>
            <th>#</th>
            <th class="col-md-5 col-xs-5">Nome</th>
            <th class="col-md-4 col-xs-4">Time</th>
            <th class="col-md-3 col-xs-3">Nacionalidade</th>
          </tr>
        </thead>

        <tbody>
          {% if people %}
            {% for person in people %}
              <tr>
                <th scope="row"> {{ forloop.counter }} </th>
                <td>{{ person.name }}</td>
                <td>A</td>
                <td>{{ person.nationality }}</td>
              </tr>
              {% empty %}
              <tr class="warning no-result">
                <td colspan="4"><i class="fa fa-warning"></i>Nenhum resultado foi obtido</td>
              </tr>
            {% endfor %}
          {% else %}
            <tr class="warning no-result">
              <td colspan="4"><i class="fa fa-warning"></i>Nenhum resultado foi obtido</td>
            </tr>
            <script>
              $('.no-result').show();
            </script>
          {% endif %}
        </tbody>
      </table>

    </div>
    <!-- end container -->

    <div class="space"></div>

</div>
<!-- end main -->

</body>
{% endblock %}

  <script src="{% static "bootstrap3/js/bootstrap.js" %}" type="text/javascript"></script>
  <script src="{% static "assets/js/gsdk-checkbox.js" %}"></script>
  <script src="{% static "assets/js/gsdk-radio.js" %}"></script>
  <script src="{% static "assets/js/get-shit-done.js" %}"></script>
  <script src="{% static "assets/js/custom.js" %}"></script>

</html>